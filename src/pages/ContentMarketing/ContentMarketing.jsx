import { useEffect, useRef, useState } from "react";
import { ContactForm } from "../../components/ContactForm";
import { Quote } from "../../components/Quote";
import { Row } from "../../components/Row";
import { RowItem } from "../../components/RowItem";
import { SectionIntro } from "../../components/SectionIntro";
import { Title } from "../../components/Title";
import { TitleSection } from "../../components/TitleSection";
import "./ContentMarketing.css";
import { FixedButton } from "../../components/FixedButton";

export const ContentMarketing = () => {
  const contactFormRef = useRef();
  const fixedButtonRef = useRef();
  const [isFixedButtonVisible, setFixedButtonVisibility] = useState(true);

  const introStyle = {
    color: "white",
    padding: "10px 5px 10px 20px",
    borderRadius: "24px",
  };
  const introImageStyle = {
    width: "80px",
    height: "80px",
    boxShadow: "0px 4px 27px rgba(0, 0, 0, 0.25)",
  };
  const introRowItems = [
    {
      text: "90% of the content marketing out<br /> there is junk.",
      image: `<svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M26.75 7.5H35.5V11H32V33.75C32 34.7165 31.2165 35.5 30.25 35.5H5.75C4.78351 35.5 4 34.7165 4 33.75V11H0.5V7.5H9.25V2.25C9.25 1.28351 10.0335 0.5 11 0.5H25C25.9665 0.5 26.75 1.28351 26.75 2.25V7.5ZM28.5 11H7.5V32H28.5V11ZM12.75 16.25H16.25V26.75H12.75V16.25ZM19.75 16.25H23.25V26.75H19.75V16.25ZM12.75 4V7.5H23.25V4H12.75Z" fill="white"/>
  </svg>
  `,
      imageStyle: {
        background: "var(--red)",
        ...introImageStyle,
      },
      style: {
        background: "var(--red)",
        ...introStyle,
      },
    },

    {
      text: "Companies spend a ton of time<br /> creating contentâ€¦only to have it sit<br /> there.",
      image: `<svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M17.5 34.5833C8.06509 34.5833 0.416626 26.9348 0.416626 17.5C0.416626 8.06512 8.06509 0.416656 17.5 0.416656C26.9347 0.416656 34.5833 8.06512 34.5833 17.5C34.5833 26.9348 26.9347 34.5833 17.5 34.5833ZM17.5 31.1667C25.0479 31.1667 31.1666 25.0479 31.1666 17.5C31.1666 9.9521 25.0479 3.83332 17.5 3.83332C9.95206 3.83332 3.83329 9.9521 3.83329 17.5C3.83329 25.0479 9.95206 31.1667 17.5 31.1667ZM19.2083 17.5H26.0416V20.9167H15.7916V8.95832H19.2083V17.5Z" fill="white"/>
      </svg>
      
  `,
      imageStyle: {
        background: "var(--red)",
        ...introImageStyle,
      },
      style: {
        background: "var(--red)",
        ...introStyle,
      },
    },

    {
      text: "Done right, content marketing is<br /> indeed powerful.",
      image: `<svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.4999 13.9583C19.7571 13.9583 23.2083 17.4095 23.2083 21.6667V30.9167H20.1249V21.6667C20.1249 19.2036 18.1995 17.1901 15.7717 17.0495L15.4999 17.0417C13.0368 17.0417 11.0234 18.9671 10.8828 21.3949L10.8749 21.6667V30.9167H7.79159V21.6667C7.79159 17.4095 11.2427 13.9583 15.4999 13.9583ZM5.47909 18.5833C5.90898 18.5833 6.32714 18.6336 6.72799 18.7286C6.46887 19.4991 6.30963 20.3131 6.26373 21.1568L6.24992 21.6667L6.251 21.7986C6.07659 21.737 5.89258 21.6955 5.7018 21.6773L5.47909 21.6667C4.27705 21.6667 3.28922 22.5838 3.17718 23.7564L3.16659 23.9792V30.9167H0.083252V23.9792C0.083252 20.9991 2.49904 18.5833 5.47909 18.5833ZM25.5208 18.5833C28.5008 18.5833 30.9166 20.9991 30.9166 23.9792V30.9167H27.8333V23.9792C27.8333 22.7771 26.9161 21.7894 25.7435 21.6773L25.5208 21.6667C25.2507 21.6667 24.9913 21.7129 24.7504 21.798L24.7499 21.6667C24.7499 20.6404 24.5828 19.6533 24.2743 18.7307C24.6727 18.6336 25.0908 18.5833 25.5208 18.5833ZM5.47909 9.33334C7.60768 9.33334 9.33325 11.0589 9.33325 13.1875C9.33325 15.3161 7.60768 17.0417 5.47909 17.0417C3.35049 17.0417 1.62492 15.3161 1.62492 13.1875C1.62492 11.0589 3.35049 9.33334 5.47909 9.33334ZM25.5208 9.33334C27.6493 9.33334 29.3749 11.0589 29.3749 13.1875C29.3749 15.3161 27.6493 17.0417 25.5208 17.0417C23.3922 17.0417 21.6666 15.3161 21.6666 13.1875C21.6666 11.0589 23.3922 9.33334 25.5208 9.33334ZM5.47909 12.4167C5.05337 12.4167 4.70825 12.7619 4.70825 13.1875C4.70825 13.6132 5.05337 13.9583 5.47909 13.9583C5.9048 13.9583 6.24992 13.6132 6.24992 13.1875C6.24992 12.7619 5.9048 12.4167 5.47909 12.4167ZM25.5208 12.4167C25.0951 12.4167 24.7499 12.7619 24.7499 13.1875C24.7499 13.6132 25.0951 13.9583 25.5208 13.9583C25.9464 13.9583 26.2916 13.6132 26.2916 13.1875C26.2916 12.7619 25.9464 12.4167 25.5208 12.4167ZM15.4999 0.0833435C18.9056 0.0833435 21.6666 2.84425 21.6666 6.25001C21.6666 9.65577 18.9056 12.4167 15.4999 12.4167C12.0942 12.4167 9.33325 9.65577 9.33325 6.25001C9.33325 2.84425 12.0942 0.0833435 15.4999 0.0833435ZM15.4999 3.16668C13.797 3.16668 12.4166 4.54713 12.4166 6.25001C12.4166 7.95289 13.797 9.33334 15.4999 9.33334C17.2028 9.33334 18.5833 7.95289 18.5833 6.25001C18.5833 4.54713 17.2028 3.16668 15.4999 3.16668Z" fill="white"/>
      </svg>
      
  `,
      imageStyle: {
        background: "var(--green)",
        ...introImageStyle,
      },
      style: {
        background: "var(--green)",
        ...introStyle,
      },
    },
  ];

  const helpFirstRowItems = [
    {
      text: "Increase organic inbound web<br /> traffic",
      image: `<svg width="30" height="38" viewBox="0 0 30 38" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M5.83337 4.33335V2.50002C5.83337 1.48751 6.65419 0.666687 7.66671 0.666687H22.3334C23.3459 0.666687 24.1667 1.48751 24.1667 2.50002V4.33335H29.6667C29.6667 8.91669 25.0834 10.75 24.1667 10.75V15.3334H29.6667C29.6667 19.9167 25.0834 21.75 24.1667 21.75V26.3334H29.6667C29.6667 30.9167 25.0834 32.75 24.1667 32.75V35.5C24.1667 36.5126 23.3459 37.3334 22.3334 37.3334H7.66671C6.65419 37.3334 5.83337 36.5126 5.83337 35.5V32.75C4.91671 32.75 0.333374 30.9167 0.333374 26.3334H5.83337V21.75C4.91671 21.75 0.333374 19.9167 0.333374 15.3334H5.83337V10.75C4.91671 10.75 0.333374 8.91669 0.333374 4.33335H5.83337ZM15 33.6667C17.0251 33.6667 18.6667 32.0251 18.6667 30C18.6667 27.9749 17.0251 26.3334 15 26.3334C12.9749 26.3334 11.3334 27.9749 11.3334 30C11.3334 32.0251 12.9749 33.6667 15 33.6667ZM15 22.6667C17.0251 22.6667 18.6667 21.0251 18.6667 19C18.6667 16.9749 17.0251 15.3334 15 15.3334C12.9749 15.3334 11.3334 16.9749 11.3334 19C11.3334 21.0251 12.9749 22.6667 15 22.6667ZM15 11.6667C17.0251 11.6667 18.6667 10.0251 18.6667 8.00002C18.6667 5.97498 17.0251 4.33335 15 4.33335C12.9749 4.33335 11.3334 5.97498 11.3334 8.00002C11.3334 10.0251 12.9749 11.6667 15 11.6667Z" fill="white"/>
    </svg>
    `,
    },

    {
      text: "Help you rank for longtail<br />keywords",
      image: `<svg width="34" height="26" viewBox="0 0 34 26" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0.5 22.1667H33.5V25.8334H0.5V22.1667ZM0.5 11.1667H6V16.6667H0.5V11.1667ZM9.66667 11.1667H15.1667V16.6667H9.66667V11.1667ZM0.5 0.166687H6V5.66669H0.5V0.166687ZM18.8333 0.166687H24.3333V5.66669H18.8333V0.166687ZM28 0.166687H33.5V5.66669H28V0.166687ZM18.8333 11.1667H24.3333V16.6667H18.8333V11.1667ZM28 11.1667H33.5V16.6667H28V11.1667ZM9.66667 0.166687H15.1667V5.66669H9.66667V0.166687Z" fill="white"/>
      </svg>      
    `,
    },

    {
      text: "Drive viral sharing",
      image: `<svg width="38" height="33" viewBox="0 0 38 33" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.087 18.2917L11.1328 18.2933C10.3945 20.38 8.40391 21.875 6.06421 21.875C3.09567 21.875 0.689209 19.4686 0.689209 16.5C0.689209 13.5314 3.09567 11.125 6.06421 11.125C8.40457 11.125 10.3956 12.6208 11.1334 14.7085L15.087 14.7083L21.2934 3.95833L26.9741 3.95849C27.7121 1.87077 29.703 0.375 32.0434 0.375C35.0118 0.375 37.4184 2.78148 37.4184 5.75C37.4184 8.71852 35.0118 11.125 32.0434 11.125C29.7037 11.125 27.7131 9.63007 26.9748 7.54328L23.361 7.54167L18.1902 16.4982L23.3628 25.4583L26.9741 25.4585C27.7121 23.3709 29.703 21.875 32.0434 21.875C35.0118 21.875 37.4184 24.2814 37.4184 27.25C37.4184 30.2186 35.0118 32.625 32.0434 32.625C29.7037 32.625 27.7131 31.13 26.9748 29.0433L21.2934 29.0417L15.087 18.2917ZM32.0434 25.4583C31.0539 25.4583 30.2517 26.2605 30.2517 27.25C30.2517 28.2395 31.0539 29.0417 32.0434 29.0417C33.0329 29.0417 33.8351 28.2395 33.8351 27.25C33.8351 26.2605 33.0329 25.4583 32.0434 25.4583ZM6.06421 14.7083C5.07469 14.7083 4.27254 15.5105 4.27254 16.5C4.27254 17.4895 5.07469 18.2917 6.06421 18.2917C7.05371 18.2917 7.85588 17.4895 7.85588 16.5C7.85588 15.5105 7.05371 14.7083 6.06421 14.7083ZM32.0434 3.95833C31.0539 3.95833 30.2517 4.7605 30.2517 5.75C30.2517 6.7395 31.0539 7.54167 32.0434 7.54167C33.0329 7.54167 33.8351 6.7395 33.8351 5.75C33.8351 4.7605 33.0329 3.95833 32.0434 3.95833Z" fill="white"/>
      </svg>      
    `,
    },
  ];

  const helpSecondRowItems = [
    {
      text: "Boost your social media<br/>efforts",
      image: `<svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11.6666 0.833313V4.49998H26.3333V0.833313H30V4.49998H35.515C36.5193 4.49998 37.3333 5.31572 37.3333 6.32121V35.6787C37.3333 36.6845 36.4986 37.5 35.515 37.5H2.48493C1.48072 37.5 0.666626 36.6843 0.666626 35.6787V6.32121C0.666626 5.31537 1.50136 4.49998 2.48493 4.49998H7.99996V0.833313H11.6666ZM19 13.6666L11.6666 21H17.1666V28.3333H20.8333V21H26.3333L19 13.6666Z" fill="white"/>
      </svg>      
    `,
    },

    {
      text: "Secure you backlinks from high<br/> domain authority sites for SEO",
      image: `<svg width="42" height="37" viewBox="0 0 42 37" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M13.6667 0.5C6.57906 0.5 0.833374 6.24569 0.833374 13.3333C0.833374 20.421 6.57906 26.1667 13.6667 26.1667H15.63C15.5444 25.5679 15.5 24.9558 15.5 24.3333C15.5 23.7109 15.5444 23.0988 15.63 22.5H13.6667C8.6041 22.5 4.50004 18.3959 4.50004 13.3333C4.50004 8.27073 8.6041 4.16667 13.6667 4.16667H28.3334C33.3959 4.16667 37.5 8.27073 37.5 13.3333C37.5 13.9618 37.4368 14.5754 37.3163 15.1681C38.3898 16.2205 39.2791 17.4598 39.9318 18.8333C40.7236 17.1663 41.1667 15.3016 41.1667 13.3333C41.1667 6.24569 35.421 0.5 28.3334 0.5H13.6667ZM28.3334 18.8333C25.2957 18.8333 22.8334 21.2957 22.8334 24.3333C22.8334 27.371 25.2957 29.8333 28.3334 29.8333C31.371 29.8333 33.8334 27.371 33.8334 24.3333C33.8334 21.2957 31.371 18.8333 28.3334 18.8333ZM19.1667 24.3333C19.1667 19.2708 23.2708 15.1667 28.3334 15.1667C33.3959 15.1667 37.5 19.2708 37.5 24.3333C37.5 26.2017 36.9411 27.9395 35.9813 29.3886L40.6297 34.037L38.037 36.6297L33.3886 31.9813C31.9395 32.941 30.2017 33.5 28.3334 33.5C23.2708 33.5 19.1667 29.3959 19.1667 24.3333Z" fill="white"/>
      </svg>
          
    `,
    },

    {
      text: "Establish you as a thought<br/> leader",
      image: `<svg width="28" height="40" viewBox="0 0 28 40" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14.0002 12.5834L17.8795 21.9104L27.9489 22.7178L20.2772 29.2896L22.6209 39.1155L14.0002 33.85L5.37925 39.1155L7.72313 29.2896L0.0512695 22.7178L10.1207 21.9104L14.0002 12.5834ZM14.0002 22.1295L12.6461 25.3864L9.13259 25.6679L11.8094 27.9619L10.9899 31.3915L14.0002 29.5534L17.0087 31.3915L16.1908 27.9619L18.8659 25.6679L15.3541 25.3864L14.0002 22.1295ZM6.66676 0.666687V17.1667H3.00009V0.666687H6.66676ZM25.0002 0.666687V17.1667H21.3335V0.666687H25.0002ZM15.8335 0.666687V9.83335H12.1669V0.666687H15.8335Z" fill="white"/>
      </svg>          
    `,
    },
  ];

  const handleClick = () => {
    const options = {
      block: "center",
      behavior: "smooth",
    };
    contactFormRef.current.scrollIntoView(options);
  };

  useEffect(() => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            setFixedButtonVisibility(false);
          } else {
            setFixedButtonVisibility(true);
          }
        });
      },
      {
        threshold: 0,
      }
    );
    observer.observe(contactFormRef.current);
  }, [fixedButtonRef]);

  return (
    <>
      <TitleSection>
        <Title>Content Marketing</Title>
        <p style={{ fontWeight: 300 }}>Content Marketing that Makes an Impact</p>
      </TitleSection>
      <Row style={{ marginTop: "40px" }}>
        {introRowItems.map((item, idx) => (
          <RowItem text={item.text} image={item.image} imageStyle={item.imageStyle} style={item.style} key={idx} />
        ))}
      </Row>
      <SectionIntro>Legal & PR Solutions can help you:</SectionIntro>
      <Row>
        {helpFirstRowItems.map((item, idx) => (
          <RowItem text={item.text} image={item.image} imageStyle={{ background: "var(--green)" }} key={idx} />
        ))}
      </Row>
      <Row>
        {helpSecondRowItems.map((item, idx) => (
          <RowItem text={item.text} image={item.image} imageStyle={{ background: "var(--green)" }} key={idx} />
        ))}
      </Row>
      <Quote
        style={{ background: "var(--purple)" }}
        text="When it comes it content marketing, follow the new 80/20 rule:<br/><b>80%</b> promotion / <b>20%</b> creation"
      />
      {isFixedButtonVisible && <FixedButton ref={fixedButtonRef} onClick={handleClick} />}
      <ContactForm ref={contactFormRef} />
    </>
  );
};
